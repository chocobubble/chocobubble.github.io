---
title:  "[Graphics] 개요"
excerpt: "DirectX 11"
excerpt_separator: "<!--more-->"
categories:
  - Graphics
tags:
  - Graphics

toc: true
toc_sticky: true

use_math: true

date: 2023-09-21
last_modified_at: 2023-09-21
---

# dx11, ImGUI 개요
- d3.compiler.h
	- VS.hlsl, PS.hjsl 컴파일에 사용

- uv
	- texture coordinates
	- 2차원


- othographic projection
- perspective projection



# Phong Model vs Phong Shading
## Phong Reflection Model
- 조명 받았을 떄
- ambient + diffuse + specular 로 표현

### ambient
- ambient color
- 조명이 없어도 나타남

### diffuse
- 조명과 충돌 지점의 normal vector의 각도에 따라 diffuse 결정
- cos을 이용하는데, unit vector인 경우 dot product로 계산 가능하다.
- 90도가 넘어가면 0으로 고정해주어야함

### specular
- 조명이 반사될 때, 반사벡터와 시점의 각도에 따라 specular 결정
- 반사 벡터를 구하고, 시점으로 향하는 벡터와 cos 이용하여 계산, 이 또한 unit vector를 이용해 dot product로 계산 가능하다.
- pow를 이용해 빛이 집중 되는 정도를 조절할 수 있다.


## Phong Shading
- Phong Model 실제 구현 시 픽셀 단위의 normal vector를 이용해 쉐이딩 하는 것



# winding order
- 삼각형의 vertex를 나열하는 순서.
- clockwise를 CW, counter clockwise를 CCW라 부른다.
- 특정 삼각형 안의 점은 삼각형의 세 vertex와 선을 이어 삼각형을 세개 그렸을 때, 세 삼각형의 외적도 같은 방향임.
- 삼각형 밖의 점은 위의 세 삼각형 중 하나를 뒤집은 느낌



# 원근 투영
- 왜곡이 생기는 이유
	-  interpolation 이 poject 된 screen 상에서 계산되므로 pixel 위치에서 계산한 것과 다르다.
- 해결 방법
	- 제타(시점과 vertex의 z축 위에서의 거리)를 이용해 보정


# 블린-퐁 쉐이딩
- 쉐이딩이란 조명과 재질의 상호작용을 고려해 색을 결정하는 과정
- 쉐이딩은 vertex에서 할 수 도 있고 pixel에서도 할 수 있다. 
	- vertext의 수가 훨씬 적기 때문에 vertex shading이 더 빠르다.
		- 하지만 상세도가 낮겠죠
- 반사 벡터는 계산이 오래 걸리므로 Halfway Vector와, normal vector를 이용해 퐁 쉐이딩을 개선한 쉐이딩
	- halfway vector는 빛 벡터와 시야 벡터의 half vector
	- halfway vector 와 normal vector를 dot product한 값을 이용한다.

## light strength
- 빛의 각도와 normal 벡터를 이용해 빛의 각도 계산

## diffuse Reflection

## specular Reflection
- 특정 방향으로 빛을 강하게 반사.
- halfway 와 normal을 내적한 값을 shiness 만큼 pow한 결과 값

## shiness
- 빛이 집중되는 정도

## 결과
- ambient + (diffuse + specular) * lightStr;


# 조명
- directional light, point light, spotlight 등이 있다.

## point light
- 포인트로 부터 멀어질 수록 빛의 세기가 감소한다.
- linear 하게 falloffstart -> fallofend(여기선 빛의 세기가 0) 해주면 된다.


# 참고
- Introduction to 3D Game programming with DX12 - Luna

# 주의
- 회전 시킬 때 normal vector도 회전시켜주어야 한다.

