# OSI7계층

## 개요

- 국제표준화기구(ISO)에서 개발한 모델이며, 네트워크 시스템들의 상호 연결에 있어 문제 없도록 하기 위해 정한 표준 규격이다.
- 통신이 일어나는 과정을 7단계로 나누어 그에 따라 응용, 표현, 세션, 전송, 네트워크, 데이터링크, 물리 계층으로 나누었다.
- 발신 측에서는 응용 계층 부터 시작해 각 계층마다 헤더를 붙여 캡슐화.
- 수신 측에서는 물리 계층 부터 시작해 각 계층마다 디캡슐화를 통해 데이터 식별
- 각 계층은 독립적인 모듈로 구성되어 있다.
    - 유리관리가 수월하다.
        - 특정 계층에 문제가 생기면 그 계층만 고치면 된다.
- 상하 계급 구조를 가지고 있다.
    - 모든 하위 계층에 문제가 없어야 상위 계층의 프로토콜이 제대로 작동한다.

## 1계층 - 물리계층(Physical Layer)

- 데이터링크 계층으로부터 받은 비트 스트림 전기적인 신호로 변환하여 상대 측과 주고 받는 역할
- 즉, 전기신호의 흐름을 통신 케이블을 통해 주고 받는다.
- 주로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송하는 물리적인 장비
- 단지 데이터 전기적인 신호(0,1)로 변환해서 주고받는 기능만 할 뿐
- 이 계층에서 사용되는 단위(PDU)
    - 비트(Bit)
        - 1과 0으로 나타내어짐
        - 전기적으로 On, Off 상태
- 장비 : 통신 케이블, 리피터, 허브 등
- 프로토콜
    - Modem, Cable, Fiber, RS-232C

## 2계층 - 데이터 링크계층(DataLink Layer)

- 물리계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 신뢰성 있는 전송을 보장한다.
- 프레임에 물리적 **주소(MAC address)**를 부여하고 에러검출, 재전송, 흐름제어를 수행
- 네트워크 계층으로부터 받은 패킷을 프레임으로 구성하여 물리계층으로 전송한다.
    - 주소와 제어 정보를 헤더와 테일에 추가함
- 이 계층에서 전송되는 단위(PDU)
    - 프레임(Frame)
- 장비
    - **브리지, 스위치 등**
- 프로토콜
    - **이더넷, MAC, PPP, ATM, LAN, Wifi**

### MAC address

- 컴퓨터 간 데이터를 전송하기 위한 컴퓨터의 물리적 주소
- IP 주소 간의 통신은 각 라우터에서 일어나는 MAC 주소 간 통신의 연속적인 과정이다.
- 즉, IP 주소가 최초 출발지와 최종 도착지의 주소라면, MAC 주소는 전달 과정 속에서 거쳐가는 중간 거점들의 주소이다.

## 3계층 - **네트워크 계층(Network Layer)**

- 전송계층으로 부터 받은 데이터를 패킷으로 만들어 전송한다.
- 목적지 네트워크 주소(IP)를 정한 후, 라우팅 알고리즘에 따라 최적 경로(Route)를 결정하고 그에 따라 패킷을 전달한다.
    - 데이터가 목적지까지 가장 안전하고 빠르게 전달되도록 해주는 기능인 라우팅이 가장 중요하다.
- 여러 노드를 거칠 때마다 경로를 찾아준다.
- 이 계층에서 전송되는 단위(PDU)
    - 패킷(Packet)
- 장비
    - 라우터, L3 스위치
- 프로토콜
    - IP, ICMP

## 4계층 - **전송 계층(Transport Layer)**

- port 번호, 전송방식(TCP/UDP 등) 결정
- 발신지와 목적지 간의 신뢰성 있는 데이터를 주고 받게 해주는 역할
- 헤드에 세그먼트(Segment)가 포함 되어
    - 주소 설정
        - 포트 번호가 들어 있다.
    - 오류 검출 및 복구
        - 패킷들의 전송이 유효 한 지 확인하고 전송 실패한 패킷들을 다시 전송
    - 흐름 제어
        - 연결 속도가 다른 송수신자 간의 전송 속도를 조절
- 이 계층에서 전송되는 단위(PDU)
    - 세그먼트(Segment)
- 장비
    - 게이트웨이(GateWay), L4 스위치
- 프로토콜(Protocol)
    - TCP, UDP, ARP, RTP

## **5계층 - 세션 계층(Session Layer)**

- 네트워크 상 양쪽 지점 연결을 관리하고 지속시켜주는 계층
- TCP/IP 세션을 만들고 없애는 역할
- 포트번호를 기반으로 통신 세션 구성
    - Session
        - 클라이언트와 웹 서버 간 네트워크 연결이 지속 유지되고 있는 상태
- 데이터 전송을 체크포인트와 동기화하는데, 전송 중단 시 마지막 체크 포인트에서 세션을 재개 할 수 있게 해준다.
- API, Socket
- 프로토콜(Protocol)
    - NetBIOS, SSH, TLS
    

## **6계층 - 표현 계층(Presentation Layer)**

- 전송하는 **데이터의 표현방식**을 결정한다.
    - 응용 계층과 주고받는 데이터를 코드로 변환, 구문 검색, 인코딩 - 디코딩, 암호화, 압축 등
- 프로토콜(Protocol)
    - JPG, MPEG, SMB, AFP

## **7계층 - 응용 계층(Application Layer)**

- 최종 목적지로, 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행
- 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 네트워크에 연결 및 수행하는 역할
- 사용자로부터 정보를 입력받아 하위 계층으로 전달하고 하위 계층에서 전송한 데이터를 사용자에게 전달
- 프로토콜
    - HTTP, DNS, Telnet, FTP 등

---

# TCP/IP

- IP와 TCP를 조합한 인터넷 통신 방식
- 송신자가 수신자에게 IP를 이용하여 빠르게 패킷을 전송하고,
- 수신자는 TCP를 이용해 패킷을 정상적으로 수신 받는다.
- TCP/IP는 OSI 7계층을 TCP/IP 프로토콜 통신 과정에 초점을 맞추어 4단계로 단순화 시킨다.
    - 애플리케이션, 전송, 인터넷, 네트워크 접근 계층으로 나뉜다.
    - OSI와 마찬가지로, 전송 시에 데이터는 상위 계층에서 하위 계층으로 이동하며, 그 과정에서 헤더가 추가된다.(캡슐화)
    - 수신 시에 데이터는 하위 계층에서 상위 계층으로 이동하며, 그 과정에서 헤더를 읽는다.(디캡슐화)
- TCP/IP는 IP 주소 체계를 따라 IP Routing을 이용해 목적지에 도달하고,
- TCP의 특성을 활용해 송신자와 수신자의 논리적 연결을 생성하고 신뢰성을 유지할 수 있도록 한다.

## 1계층 - 네트워크 접근 계층(Network Access Layer)

- 데이터를 전기신호로 변화하고, MAC 주소를 이용해 데이터를 전달한다.
    - MAC 주소는 논리주소(IP 등)가 아닌 물리 주소(하드웨어 주소)이다.
- 프로토콜
    - Ethernet, Wi-Fi, PPP, Token Ring

## 2계층 - 인터넷 계층(Internet Layer)

- OSI 3계층
- 패킷을 최종 목적지까지 라우팅
- 프로토콜
    - IP, ARP, ICMP, RARP, OSPF

## 3계층 - 전송 계층(Transport Layer)

- OSI 4계층
- 통신 노드 간 신뢰성 있는 데이터 전송을 보장하는 계층
- 프로토콜
    - TCP, UDP, RTP, RTCP
    

## 4계층 - 애플리케이션 계층(Application Layer)

- 사용자-소프트웨어 간 소통 담당
- 프로토콜
    - HTTP, HTTPS, FTP, SSH, DNS, SMTP, Telnet

https://backendcode.tistory.com/167

https://lxxyeon.tistory.com/155

https://wooono.tistory.com/507