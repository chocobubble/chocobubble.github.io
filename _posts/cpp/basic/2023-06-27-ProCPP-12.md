---
title:  "[전문가를 위한 C++] 템플릿으로 제네릭 코드 만들기"
excerpt: "전문가를 위한 C++"
excerpt_separator: "<!--more-->"
categories:
  - CPP
tags:
  - CPP
  - Template

toc: true
toc_sticky: true

use_math: true

date: 2023-06-27
last_modified_at: 2023-06-27
---

> '전문가를 위한 C++ - Marc Gregoire 지음, 남기혁 옮김' 책을 참고하여 작성한 포스트입니다.

---

> **제네릭 프로그래밍(generic programming)**의 목적은 재사용 가능한 코드를 작성하는 것이다. 이를 지원하기 위한 c++의 핵심 기능은 **템플릿(template)**이다.

# 템플릿 소개
- 값 뿐만 아닌 **타입(type)**에 대해서도 매개변수화할 수 있게 해주는 것이 **템플릿**이다.


# 클래스 템플릿(class template)
- 클래스 템플릿은 멤버 변수의 타입, 메서드의 리턴 타입, 메서드의 매개변수 타입 등을 매개변수로 받아 클래스를 정의한다.
- 주로 컨테이너나 데이터 구조에서 많이 사용된다.

## 클래스 템플릿 작성법
- 클래스 템플릿을 이용하면 클래스가 특정한 타입에 종속되지 않게 만들 수 있다.
- 원하는 타입에 맞게 이 클래스를 인스턴스화해 사용하면 된다. 
- 이를 제네릭 프로그래밍이라 한다.
- 제네릭 프로그래밍의 가장 큰 장점은 **타입 안전성**이다.
- 다형성을 이용하면 추상 베이스 클래스로 정의해야 하고, 자식 클래스의 고유 기능을 활용하려면 다운캐스트 해야 한다 (나중에 정리)

### Grid 클래스 정의
- int 같은 기본 타입도 지원하려면 값 전달 방식으로 구현하는 것이 좋다.
- 값 전달 방식은 포인터 기반과 달리 완전히 빈 셀을 만들 수 없어, 컨테이너 구현 시 std::optional 을 이용해주자.  

#### 템플릿 지정자(template specifier)  

```cpp
template <typename T>
```
- 템플릿은 타입을 매개변수로 받는다.
- T가 템플릿 매개변수 이름이다.
- typename 대신 class 로 이름을 바꾸어도 된다.
- 보드 컨테이너를 **값**에 대한 vector의 vector로 정의하면 컴파일러가 생성해주는 복제 생성자와 대입 연산자로 충분하다.
- 포인터에 대한 vector의 vector로 정의했다면 직접 포인터 관리 코드를 구현해 주어야 한다.

